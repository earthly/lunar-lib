version: 0

name: coverage
description: Validates code coverage collection and thresholds
author: earthly

policies:
  - name: collected
    description: Coverage data should be collected in CI
    mainPython: collected.py

  - name: reported
    description: Coverage percentage should be reported
    mainPython: reported.py

  - name: min-coverage
    description: Code coverage should meet minimum threshold
    mainPython: min_coverage.py

inputs:
  min_coverage:
    description: Minimum required coverage percentage
    default: "80"
