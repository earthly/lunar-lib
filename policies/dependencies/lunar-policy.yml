version: 0

name: dependencies
description: Policies for validating project dependencies
author: earthly

default_image: earthly/lunar-scripts:1.0.0

policies:
  - name: min-versions
    description: Ensures dependencies meet minimum safe version requirements
    mainPython: ./min_versions.py

inputs:
  language:
    description: Programming language to check (e.g., "go", "java", "python", "nodejs")
    default: ""
  min_versions:
    description: 'JSON object mapping dependency paths to minimum safe versions (e.g., {"github.com/example/lib": "1.0.0"})'
    default: "{}"
  include_indirect:
    description: 'Whether to also check indirect (transitive) dependencies'
    default: "false"