version: 0

name: readme
description: Collect README file information
author: earthly
default_image: earthly/lunar-lib:base-main

# Landing page metadata for earthly.dev/lunar/guardrails/collectors/readme
landing_page:
  status: "stable"
  display_name: "README"
  tagline: "Collect README file metadata including existence, content length, and section structure"
  seo_title: "README Analyzer Collector"
  seo_description: |
    Verify README files exist and analyze their structure including line count and
    section headings. Enforce documentation standards across your repositories.
  category: "repository-and-ownership"
  related:
    - slug: "readme"
      type: "policy"
      reason: "Enforces README best practices based on collected metadata"

collectors:
  - name: readme
    description: Collect README file information
    mainBash: main.sh
    hook:
      type: code
    seo_title: "Analyze README Files"
    seo_description: |
      Detect README presence and extract metadata including line count and section
      headings for documentation quality policies.
    seo_keywords: ["readme", "documentation", "repository docs", "markdown"]

inputs:
  path:
    description: Comma-separated list of README paths to check (first match wins)
    default: "README.md,README,README.txt,README.rst"

example_component_json: |
  {
    "repo": {
      "readme": {
        "exists": true,
        "path": "README.md",
        "lines": 150,
        "sections": [
          "Installation",
          "Usage",
          "API",
          "Contributing",
          "License"
        ]
      }
    }
  }
